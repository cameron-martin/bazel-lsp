# Enable platform configs below, like build:linux, test:windows etc.
common --enable_platform_specific_config

# To update these lines, execute
# `bazel run @rules_bazel_integration_test//tools:update_deleted_packages`
build --deleted_packages=fixtures/bzlmod/root,fixtures/simple/output_base/external/bar,fixtures/simple/output_base/external/foo,fixtures/simple/root,fixtures/simple/root/foo
query --deleted_packages=fixtures/bzlmod/root,fixtures/simple/output_base/external/bar,fixtures/simple/output_base/external/foo,fixtures/simple/root,fixtures/simple/root/foo

build:ci --bes_results_url=https://bazel-lsp.buildbuddy.io/invocation/
build:ci --bes_backend=grpcs://bazel-lsp.buildbuddy.io
# Do not wait for BES upload to finish to avoid failing build if BES is not available.
build:ci --bes_upload_mode=nowait_for_upload_complete
build:ci --remote_cache=grpcs://bazel-lsp.buildbuddy.io
build:ci --remote_timeout=3600

# Configuration required by https://github.com/uber/hermetic_cc_toolchain
build:linux --sandbox_add_mount_pair=/tmp
# Disable auto-detected local C++ toolchain, always use hermetic toolchains.
build:linux --action_env BAZEL_DO_NOT_DETECT_CPP_TOOLCHAIN=1

# Do not leak local envs into actions, esp. PATH variable.
build --incompatible_strict_action_env
